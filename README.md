# cbs 

- 如何解决多辆无人车在实际作业中的路径冲突问题，使用传统的 dijkstra 或 A* 算法局限于单车最优路径，而难以规划出多车最优路径，会严重影响作业效率。
- 对无人车编队，即对路径方向进行限制，会遇到车辆转向冲突，对单车的精度控制有限。
- 而 cbs (ConflictGbased Search) 算法组合多车最优路径，综合路径权重，可以在有限的时间内计算出最优路径，通过不断重算可以将小时间窗内的最优路径不断辐射到全局，从而在 `全局初始最优 → 局部冲突 → 局部重算 → 局部最优 → 全局重算 → 全局最优`的过程中不断切换来实现当前的最优解。
- 使用
    
    ```python
    # Python 3.8.0
    # pip install -r requirements.txt 
    python3 cbs_1.py
    # 任意键执行一格路径
    # ctrl + c 退出
    ```
    
- cbs_1
    
    ```
    单纯 dijkstra 版本
    每个单车各自规划路径, 存在冲突
    ```
    
- cbs_2
    
    ```
    对 cbs_1 的优化
    当单车即将碰撞时, 进行规避
    在这个版本上，可以对单车路径不断重试，遇到无解冲突时让一方重算，可以实现基本的通行需求。
    ```
    
- cbs_3
    
    ```
    为了避免单车聚集, 导致阻塞蔓延, 在出发时预算位置, 并对长路径的方向限制
    类似无人车编队策略。
    ```
    
- cbs_4
    
    ```
    为了提高单车的作业效率, 使用cbs 算法, 减少多车路径冲突。
    cbs 算法参考了《基于冲突搜索的多智能体路径规划研究进展》论文中的实现。
    ```
    
- cbs_5
    
    ```
    同cbs_4, 优化已有路径的问题
    ```
    
- cbs_6
    
    ```
    同cbs_5, 解决了单车停止后的路径冲突
    下一步需要生成路径冲突、道路阻塞综合后的权重系数, 更优雅的解路径冲突
    ```